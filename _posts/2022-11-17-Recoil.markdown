---
layout: post
title: 'React ì „ì—­ ìƒíƒœê´€ë¦¬ (Recoil)'
date: 2022-11-18
tags: [frontend-study]
---

### ğŸ§ Recoil.

<img src="../assets/images/post/img_20221118_01.png" alt="" style="width:90%; width:300px; margin: auto 1rem; vertical-align:top;" />
- Recoilì€ React í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ ë§ì€ ì „ì—­ ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ ì¤‘ í•˜ë‚˜.(2020ë…„ 5ì›” Facebookì—ì„œ ì¶œì‹œí•¨)
- ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬(Redux, Mobx)ì™€ëŠ” ë‹¬ë¦¬ React ì „ìš©ìœ¼ë¡œ Reactì— ìµœì í™”ë˜ì–´ ìˆë‹¤ê³  í•  ìˆ˜ ìˆìŒ.

<br/>

### ğŸŒ¸ Recoilì˜ íƒ„ìƒ ë°°ê²½

- ReduxëŠ” React ì „ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì•„ë‹˜. React ê´€ì ì—ì„  ì™¸ë¶€ìš”ì¸ìœ¼ë¡œ Storeê°€ ì·¨ê¸‰ë˜ë©°, ë™ì‹œì„± ëª¨ë“œë¥¼ êµ¬í˜„í•˜ê¸°ì— í˜¸í™˜ì„±ì´ ë¶€ì¡±í•¨.
- ReduxëŠ” ë³µì¡í•œ ì´ˆê¸°ì„¸íŒ…ì´ ìš”êµ¬ë¨. Store, Action, Reducer ë“± ë‹¤ì–‘í•œ êµ¬ì„±ìš”ì†Œê°€ í•„ìš”í•´ ë¹„íš¨ìœ¨ì ì´ë©° ëŸ¬ë‹ì»¤ë¸Œê°€ ë†’ë‹¤.
- ReduxëŠ” ë¹„ë™ê¸° ë°ì´í„°ì— ì¶”ê°€ ë¦¬ì†ŒìŠ¤ê°€ ìš”êµ¬ë¨. Redux-saga ë“± ì „ì—­ìƒíƒœì— ë¹„ë™ê¸° ë°ì´í„°ë¥¼ í˜¸ì¶œí•˜ê¸° ìœ„í•œ ì„œë“œíŒŒí‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•¨.
- ì´ëŸ¬í•œ ë‹¨ì ë“¤ì„ ë³´ì™„í•˜ê³  Reactì— ì¢€ ë” ìµœì í™”ëœ ì „ì—­ ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ Recoilì´ ë§Œë“¤ì–´ì§.

<br/>

## ğŸŒ§ í”„ë¡œì íŠ¸ì— ì ìš©.

#### ğŸ° 1. ì„¤ì¹˜

```tsx
$ npm install recoil
```

#### ğŸ§ 2. \_app.tsx ì— í˜¸ì¶œ.

```tsx
import { RecoilRoot } from 'recoil';

...

<RecoilRoot>
~
</RecoilRoot>
```

#### ğŸ® 3. store.js íŒŒì¼ atom ì„ ì–¸.

- AtomsëŠ” Recoil ìƒíƒœì˜ ë‹¨ìœ„ë¥¼ ì˜ë¯¸í•œë‹¤. ì»´í¬ë„ŒíŠ¸ê°„ì— ì´ ìƒíƒœëŠ” ê³µìœ ë˜ë©°, êµ¬ë… ë° ì—…ë°ì´íŠ¸ê°€ ê°€ëŠ¥í•˜ë‹¤.
- íŠ¹íˆ, atomì˜ ìƒíƒœê°€ ì—…ë°ì´íŠ¸ë˜ë©´, ì´ë¥¼ êµ¬ë…í•˜ë˜ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ëª¨ë‘ ë¦¬ë Œë”ë§ëœë‹¤.
- atomì˜ ê°’ì„ ì½ëŠ” ì»´í¬ë„ŒíŠ¸ë“¤ì€ ì•”ë¬µì ìœ¼ë¡œ atomì„ êµ¬ë…í•œë‹¤.
- ê·¸ë˜ì„œ atomì— ì–´ë–¤ ë³€í™”ê°€ ìˆìœ¼ë©´ ê·¸ atomì„ êµ¬ë…í•˜ëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë“¤ì´ ì¬ ë Œë”ë§ ë˜ëŠ” ê²°ê³¼ê°€ ë°œìƒí•  ê²ƒì´ë‹¤.

```tsx
import { atom } from 'recoil';

export const user = atom({
  key: 'user',
  default: {
    email: '',
  },
});
```

#### ğŸ­ 4. ì „ì—­ìƒíƒœ Recoil Hooks.

- useRecoilState() : useState() ì™€ ìœ ì‚¬í•˜ë‹¤. [state, setState] íŠœí”Œì— í• ë‹¹í•˜ë©°, ì¸ìì— Atoms(í˜¹ì€ Selector)ë¥¼ ë„£ì–´ì¤€ë‹¤.
- useRecoilValue() : ì „ì—­ìƒíƒœì˜ state ìƒíƒœê°’ë§Œì„ ì°¸ì¡°í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤. ì„ ì–¸ëœ ë³€ìˆ˜ì— í• ë‹¹í•˜ì—¬ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
- useSetRecoilState() : ì „ì—­ìƒíƒœì˜ setter í•¨ìˆ˜ë§Œì„ í™œìš©í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤. ì„ ì–¸ëœ í•¨ìˆ˜ë³€ìˆ˜ì— í• ë‹¹í•˜ì—¬ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
- useResetRecoilState() : ì „ì—­ìƒíƒœë¥¼ default(ì´ˆê¸°ê°’)ìœ¼ë¡œ Reset í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤. ì„ ì–¸ëœ í•¨ìˆ˜ë³€ìˆ˜ì— í• ë‹¹í•˜ì—¬ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

```tsx
...
import { useSetRecoilState, useRecoilValue } from 'recoil';
import { user } from '../../store';

const Test = () => {
  const userEmail = useRecoilValue(user);
  return (
    <>
      <div>{userEmail.email}</div>
    </>
  );
};
...
```

<br/>

---

<br/>

## ğŸ« ì°¸ê³  í˜ì´ì§€

- [https://tech.osci.kr/2022/06/16/recoil-state-management-of-react](https://tech.osci.kr/2022/06/16/recoil-state-management-of-react){:target="\_blank"}
- [https://recoiljs.org/ko/docs/introduction/getting-started](https://recoiljs.org/ko/docs/introduction/getting-started){:target="\_blank"}
- [https://abangpa1ace.tistory.com/212](https://abangpa1ace.tistory.com/212){:target="\_blank"}
- [https://recoiljs.org/docs/api-reference/core/useRecoilValue](https://recoiljs.org/docs/api-reference/core/useRecoilValue/){:target="\_blank"}
  <br/><br/>

---
