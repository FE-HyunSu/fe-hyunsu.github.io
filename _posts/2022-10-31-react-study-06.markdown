---
layout: post
title: 'ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦ğŸ‘©â€ğŸ‘§ React-Documents-Step05'
date: 2022-11-06
tags: [study-group]
---

## ğŸªœ chapter19. ê³ ì°¨ ì»´í¬ë„ŒíŠ¸

- ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ : HOC(Higher Order Component).
- ì»´í¬ë„ŒíŠ¸ ìì²´ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì˜ë¯¸í•¨.
- ex1) withError, withLoading ë‘ê°œì˜ HOC ì ìš© ì˜ˆì‹œ.

```jsx
const withLoading =
  ({ loadingText }) =>
  (Component) =>
  ({ isLoading, ...rest }) => {
    if (isLoading) {
      return <div>{loadingText ? loadingText : 'Loading ...'}</div>;
    }
    return <Component {...rest} />;
  };

const withError =
  ({ errorText }) =>
  (Component) =>
  ({ error, ...rest }) => {
    if (error) {
      return <div>{errorText ? errorText : 'Something went wrong ...'}</div>;
    }
    return <Component {...rest} />;
  };
```

- ìœ„ withError, withLoading ë‘ê°œì˜ HOCë¥¼ í™œìš©í•˜ì—¬, ì—ëŸ¬ì™€ ë¡œë”© ìƒíƒœë¥¼ ì²´í¬ í›„ ì»´í¬ë„ŒíŠ¸ í˜¸ì¶œ.

```jsx
const DataTableWithFeedback = compose(
  withError({ errorText: 'error..' }),
  withLoading({ loadingText: 'loading..' }),
)(DataTable);
const App = () => {
  ...
  return (
    <DataTableWithFeedback
      columns={columns}
      data={data}
      error={error}
      isLoading={isLoading}
    />
  );
};
```

- ex2) api ì£¼ì†Œë¥¼ ì¸ìë¡œ ë°›ëŠ” withFetch HOC.

```jsx
const UserProfileWithData = compose(
  withFetch(props => `https://api.mydomain/users/${props.userId}`),
  withFetch(props => `https://api.mydomain/profile/${props.profileId}`),
)(UserProfile);

const App = () => {
  ...
  const userId = '1';
  return (
    <UserProfileWithData
      columns={columns}
      userId={userId}
    />
  );
};
```

- custom hook ìœ¼ë¡œ ì ìš© ì‹œ.

```jsx
const App = () => {
  const userId = '1';

  const {
    data: userData,
    isLoading: userIsLoading,
    error: userError
  } = useFetch(`https://api.mydomain/user/${userId}`);

  const profileId = userData?.profileId;

  const {
    data: userProfileData,
    isLoading: userProfileIsLoading,
    error: userProfileError
  } = useFetch(`https://api.mydomain/user/${profileId}/profile`);

  if (userError || userProfileError) {
    return <div>Something went wrong ...</div>;
  }

  if (userIsLoading || userProfileIsLoading) {
    return <div>Is loading ...</div>;
  }

  return (
    <User
      user={userData}>
      userProfile={userProfileData}
    />
  );
};
```

<br/>

### ğŸ¤¦â€â™€ï¸ HOCì˜ ë‹¨ì  (í•¨ìˆ˜í˜• ê¸°ì¤€)

- ê°ê° ë‹¤ë¥¸ HOCì—ì„œ ë™ì¼í•œ props ì´ë¦„ ì‚¬ìš©í•˜ê³  í•¨ê»˜ ì‚¬ìš©ë˜ì—ˆì„ë•Œ ì¶©ëŒì´ ë°œìƒë¨.

<br/>

### ğŸª– ì •ë¦¬

- HOCì—ëŠ” with, custom hooksì—ëŠ” use ì ‘ë‘ì–´ë¥¼ ë¶™ì´ëŠ” ì»¨ë²¤ì…˜ì´ ì¡´ì¬í•¨.
- Hookì´ ë°ì´í„° ë„˜ê¸°ê¸°ë„ ìœ ìš©í•˜ê³ , custom hookê°„ì— ë°ì´í„°ë¥¼ ë„˜ê¸°ëŠ” ê²ƒ ë˜í•œ ëª…í™•í•˜ê²Œ ë³¼ ìˆ˜ ìˆìŒ.
- ì˜ì¡´ì„±ì´ ìˆëŠ” ê²½ìš°, hookì„ ì“°ëŠ” ê²ƒì´ ë” ì½”ë“œì— ë§ì€ ì´ì ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.

<br/>

---

<br/>

## ğŸ« ì°¸ê³  í˜ì´ì§€

- [https://ko.reactjs.org/docs/higher-order-components.html](https://ko.reactjs.org/docs/higher-order-components.html){:target="\_blank"}
- [https://ko.reactjs.org/docs/integrating-with-other-libraries.html](https://ko.reactjs.org/docs/integrating-with-other-libraries.html){:target="\_blank"}
- [https://ko.reactjs.org/docs/jsx-in-depth.html](https://ko.reactjs.org/docs/jsx-in-depth.html){:target="\_blank"}
- [https://ko.reactjs.org/docs/optimizing-performance.html](https://ko.reactjs.org/docs/optimizing-performance.html){:target="\_blank"}
- [https://ko.reactjs.org/docs/portals.html](https://ko.reactjs.org/docs/portals.html){:target="\_blank"}
- [https://ko.reactjs.org/docs/profiler.html](https://ko.reactjs.org/docs/profiler.html){:target="\_blank"}
- [https://ostarblog.tistory.com/12](https://ostarblog.tistory.com/12){:target="\_blank"}
- [https://yceffort.kr/2020/10/react-hooks-and-hocs](https://yceffort.kr/2020/10/react-hooks-and-hocs){:target="\_blank"}
  <br/><br/>

---
