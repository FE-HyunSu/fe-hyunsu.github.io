---
layout: post
title: "ğŸ§• Recoil ì‹¤ìŠµ"
date: 2022-12-01
tags: [frontend-study]
---

## â›‘ Recoil ì‹¤ìŠµ

#### ğŸ‘’ 1. RecoilRoot ë¡œ ì „ì²´ë¥¼ ê°ì‹¸ì¤€ë‹¤.

```tsx
import React from "react";
import { RecoilRoot } from "recoil";

function App() {
  return (
    <RecoilRoot>
      <Project />
    </RecoilRoot>
  );
}
```

<br/>

#### ğŸ‘‘ 2. Atomì„ í™œìš©í•˜ì—¬ Global state ê°’ ë§Œë“¤ê¸°.

- Atom ì´ë¼ëŠ” Functionì€ ê°ì²´ë¥¼ íŒŒë¼ë©”íƒ€ë¡œ ë°›ëŠ”ë‹¤.
- ({key:'...', default: '...'}) -> keyëŠ” ê³ ìœ ê°’.
- Atomì€ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ì—ì„œë‚˜ ì½ê³  ì“¸ ìˆ˜ ìˆìŒ.
- Atomì˜ ê°’ì„ ì½ëŠ” ì»´í¬ë„ŒíŠ¸ë“¤ì€ ì•”ë¬µì ìœ¼ë¡œ atomì„ êµ¬ë…. ê·¸ë˜ì„œ atomì— ì–´ë–¤ ë³€í™”ê°€ ìˆìœ¼ë©´ ê·¸ atomì„ êµ¬ë…í•˜ëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë“¤ì´ ë¦¬ë Œë”ë§ë¨.

```tsx
// store.ts
import { atom, selector } from "recoil";
...
export const updateCheckState = atom({
  key: "updateCheckState",
  default: false,
});

```

<br/>

#### ğŸ‘ 3. useRecoilState Hookì„ í†µí•´ ìœ„ì—ì„œ ì„ ì–¸í•œ Global stateê°’ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•˜ê¸°.

- useRecoilState Hookì— ê³ ìœ  key ê°’ì„ ë„£ì–´ ì‚¬ìš©.

```tsx
import { useRecoilState } from 'recoil';
import { updateCheckState } from './store';
...
const [testState, setTestState] = useRecoilState(updateCheckState);
const handleTest = () => {
  setTestState(!testState);
}
...
```

- useRecoilValueë¡œ êµ¬ë…í•˜ëŠ” stateê°’ ì—…ë°ì´íŠ¸ í™•ì¸.

```tsx
import { useRecoilValue } from "recoil";
import { updateCheckState } from "./store";

const updateCheck = useRecoilValue(updateCheckState);
```

<br/>

#### ğŸ¸ 4. selector.

- SelectorëŠ” Recoilì—ì„œ í•¨ìˆ˜ë‚˜ íŒŒìƒëœ ìƒíƒœë¥¼ ë‚˜íƒ€ëƒ„.

```tsx
// store.ts
import { atom, selector } from "recoil";
...
export const updateCheckSelector = selector<boolean>({
  key: "updateCheckSelector",
  get: ({ get }) => {
    const updateCheck = get(updateCheckState);
    return updateCheck;
  },
  set: ({ set }, updateCheck) => {
    const returnState = updateCheck;
    set(updateCheckState, returnState);
  },
});
```

### get

- íŒŒìƒëœ ìƒíƒœì˜ ê°’ì„ í‰ê°€í•˜ëŠ” í•¨ìˆ˜.
- ê°’ì„ ì§ì ‘ ë°˜í™˜í•˜ê±°ë‚˜ ë¹„ë™ê¸°ì ì¸ Promiseë‚˜ ë˜ëŠ” ê°™ì€ ìœ í˜•ì„ ë‚˜íƒ€ë‚´ëŠ” ë‹¤ë¥¸ atomì´ë‚˜ selectorë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤.
- ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œ ë‹¤ìŒ ì†ì„±ì„ í¬í•¨í•˜ëŠ” ê°ì²´ë¥¼ ì „ë‹¬í•œë‹¤.

### set

- ì´ ì†ì„±ì´ ì„¤ì •ë˜ë©´ selectorëŠ” ì“°ê¸° ê°€ëŠ¥í•œ ìƒíƒœë¥¼ ë°˜í™˜í•œë‹¤.
- ì²«ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œ ì½œë°± ê°ì²´ì™€ ìƒˆë¡œ ì…ë ¥ ê°’ì´ ì „ë‹¬ëœë‹¤.
- ì‚¬ìš©ìê°€ selectorë¥¼ ì¬ì„¤ì •í•  ê²½ìš° ìƒˆë¡œ ì…ë ¥ ê°’ì€ T íƒ€ì…ì˜ ê°’ ë˜ëŠ” DefaultValue íƒ€ì…ì˜ ê°ì²´ì¼ ìˆ˜ ìˆë‹¤.
- set(ë³€í•˜ê³ ìí•˜ëŠ” atomê°’, ë³€í•˜ê²Œ í•  ê°’)

<br/>

### ğŸ‘®â€â™‚ï¸ ì •ë¦¬

- useRecoilValue(State) : ì½ê¸° ì „ìš©.
- useSetRecoilState(State) : ê°’ ë³€ê²½.
- useResetRecoilState(State) : ë””í´íŠ¸ê°’ìœ¼ë¡œ ê°’ ë³€ê²½.

<br/>

---

<br/>

## ğŸ« ì°¸ê³  í˜ì´ì§€

- [https://velog.io/@myway_7/Recoil%EA%B8%B0%EC%B4%88-Recoil-%EC%82%AC%EC%9A%A9%EB%B2%95](https://velog.io/@myway_7/Recoil%EA%B8%B0%EC%B4%88-Recoil-%EC%82%AC%EC%9A%A9%EB%B2%95){:target="\_blank"}
- [https://leego.tistory.com/entry/recoil%EA%B3%BC-%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%98%B8%EC%B6%9C-%EC%84%A0%EC%96%B8%EC%A0%81-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D](https://leego.tistory.com/entry/recoil%EA%B3%BC-%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%98%B8%EC%B6%9C-%EC%84%A0%EC%96%B8%EC%A0%81-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D){:target="\_blank"}
  <br/><br/>

---
